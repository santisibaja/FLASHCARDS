<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Fichas Interactivas Mejoradas</title>
    <style>
        /* Estilos mejorados para evitar volteos no deseados */
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            touch-action: manipulation;
            -webkit-user-select: none;
            user-select: none;
        }
        .flashcard {
            transition: transform 0.6s;
            transform-style: preserve-3d;
            position: relative;
        }
        .flashcard-front, .flashcard-back {
            backface-visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .flashcard-back {
            transform: rotateY(180deg);
        }
        .flipped {
            transform: rotateY(180deg);
        }
    </style>
</head>
<body>
    <!-- Contenido de las fichas... -->

    <script>
        // Código JavaScript mejorado
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.flashcard');
            let isFlipping = false; // Bandera para prevenir volteos múltiples

            cards.forEach(card => {
                // Evento para dispositivos táctiles
                card.addEventListener('touchstart', function(e) {
                    if (!isFlipping) {
                        isFlipping = true;
                        this.classList.toggle('flipped');
                        setTimeout(() => isFlipping = false, 600); // Espera a que termine la animación
                        e.preventDefault();
                    }
                }, { passive: false });

                // Evento para clics en desktop
                card.addEventListener('click', function(e) {
                    if (!isFlipping && !('ontouchstart' in window)) {
                        isFlipping = true;
                        this.classList.toggle('flipped');
                        setTimeout(() => isFlipping = false, 600);
                    }
                });
            });

            // Añade este código si usas navegación entre fichas
            document.querySelectorAll('#prev-btn, #next-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    cards.forEach(card => card.classList.remove('flipped'));
                });
            });
        });
    </script>
</body>
</html>
